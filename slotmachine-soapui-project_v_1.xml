<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="slotmachine" resourceRoot="" soapui-version="2.5" id="826717fa-2e6b-47d0-ab2a-81898e4e9ce8" encryptionMode="Not encrypted" activeEnvironment="Default environment" updated="2.6.0 2019-01-14T14:47:06Z" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" name="slotmachine" type="rest" basePath="/slots/spin.php" id="e9980702-21c2-4c71-b199-ce12feb5e34f" wadlVersion="http://wadl.dev.java.net/2009/02" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://slotmachinescript.com</con:endpoint></con:endpoints><con:resource name="spin" path="/slots/spin.php" id="7f50f61a-24a6-47ab-8d9d-52695c7e64dc"><con:settings/><con:parameters/><con:method name="POST Method" id="9cc31ca2-c623-4014-96b7-3ea4112a95fa" method="POST"><con:settings/><con:parameters><con:parameter><con:name>Accept</con:name><con:value>application/json, text/javascript, */*; q=0.01</con:value><con:style>HEADER</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="RESPONSE"><con:params/></con:representation><con:representation type="REQUEST"><con:params/></con:representation><con:representation type="REQUEST"><con:params/></con:representation><con:request name="spin" id="02853180-9ee3-4110-801e-3462467cde29" mediaType="application/xml" postQueryString="false" accept=""><con:settings><con:setting id="com.eviware.soapui.support.editor.views.xml.form2.FormEditorView@ViewType">All</con:setting><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Accept" value="text/html" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://slotmachinescript.com</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="Accept" value="application/json, text/javascript, */*; q=0.01" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Accept</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite name="TestSuite 1" id="3865cd2b-541a-4e77-97c7-29bbd504c901"><con:settings/><con:savedRecentRuns>1</con:savedRecentRuns><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true" id="919108c0-953b-484d-af31-d90809c17852"><con:settings><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="httprequest" name="Simple spin" id="03efee66-da3c-4d53-a1e5-b2c8ca0f7194"><con:settings/><con:config sslKeystore="" mediaType="application/xml" method="POST" name="Simple spin" xsi:type="con:HttpRequest" id="1d7a55d0-61b2-44c3-ac89-4d623446ebef" postQueryString="false" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings>
    <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
  </con:settings><con:encoding xsi:nil="true"/><con:endpoint>http://slotmachinescript.com/slots/spin.php</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="delay" name="Delay" id="56b5ab4c-a912-4319-973f-8dcd2166d687"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="httprequest" name="Change bet" id="66d881f0-69ba-46d9-ac5b-504d46dd9271"><con:settings/><con:config sslKeystore="" mediaType="application/x-www-form-urlencoded" method="POST" name="Change bet" postQueryString="true" xsi:type="con:HttpRequest" id="c28a1156-dfba-4236-9f26-ec86afd8478d" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings>
    <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
    <con:setting id="com.eviware.soapui.support.editor.views.xml.form2.FormEditorView@ViewType">All</con:setting>
  </con:settings><con:encoding xsi:nil="true"/><con:endpoint>http://slotmachinescript.com/slots/spin.php</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
    <con:parameter>
      <con:name>bet</con:name>
      <con:value>3</con:value>
      <con:style>QUERY</con:style>
    </con:parameter>
  </con:parameters></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="9af3f0c1-8a33-4309-82b6-cf1a185e0800"><con:settings/><con:config><script>String prevCredit = context.expand( '${Change bet#Response#$[\'credits\']}' );;
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "prevCredit", prevCredit );
log.info(prevCredit);</script></con:config></con:testStep><con:testStep type="delay" name="Delay 1" id="d2753acc-ae38-4c47-ace1-8a779c45d9cb"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="httprequest" name="WinTotal" id="adf6466d-173c-4cad-8d63-fe0caac8da92"><con:settings/><con:config sslKeystore="" method="POST" name="WinTotal" xsi:type="con:HttpRequest" id="c82d0a42-fbc4-451f-8ad9-e7c3cbc3df38" postQueryString="true" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding xsi:nil="true"/><con:endpoint>http://slotmachinescript.com/slots/spin.php</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>bet</con:name><con:value>3</con:value><con:style>QUERY</con:style><con:default>3</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="delay" name="Delay 3" id="fc0505cd-31a3-46f6-925e-99fc1a0e024f"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="groovy" name="WinOrLost" id="9fc39f00-dc29-4f77-85ff-59b4c53c2d58"><con:settings/><con:config><script>String i = context.expand( '${WinTotal#Response#$[\'lastWin\']}' );



try{
   int a = Integer.parseInt(i);
   if (a >= 1) {
	String newCredit = context.expand( '${WinTotal#Response#$[\'credits\']}' );
	com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "newCredit", newCredit );
	log.info("WIN")
	log.info(i);
  
}
}
catch(NumberFormatException ex){ 
	String prevCredit = context.expand( '${WinTotal#Response#$[\'credits\']}' );
	com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "prevCredit", prevCredit );
	testRunner.gotoStepByName("WinTotal")	
	log.info("LOSE")
}
</script></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 3" id="6bb07449-8a2a-4efe-b1ac-26a707e05d22"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>oldCredit</con:name><con:sourceType>prevCredit</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:sourcePath/><con:targetType>oldCredit</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>newCredit</con:name><con:sourceType>newCredit</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>newCredit</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>lastWin</con:name><con:sourceType>lastWin</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>lastWin</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>bet</con:name><con:sourceType>bet</con:sourceType><con:sourceStep>WinTotal</con:sourceStep><con:targetType>bet</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Comparison" id="0f2cf8ad-e700-43ae-8e2d-32bbf57b01b5"><con:settings/><con:config><script>int bet1 = Integer.parseInt(context.expand( '${WinTotal#bet}' ));
int oldCredit1 = Integer.parseInt(context.expand( '${#Project#oldCredit}' ));
int lastWin1 = Integer.parseInt(context.expand( '${#Project#lastWin}' ));
int newCredit1 = Integer.parseInt(context.expand( '${newCredit}' ));

if (newCredit1 == oldCredit1 + lastWin1 - bet1){
	log.info "Pass"
}
else {
	log.info "Fail"
}

//log.info((newCredit).eqals(oldCredit + lastWin - bet));
</script></con:config></con:testStep><con:properties><con:property><con:name>oldCredit</con:name><con:value>980</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>fc0505cd-31a3-46f6-925e-99fc1a0e024f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0f2cf8ad-e700-43ae-8e2d-32bbf57b01b5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6bb07449-8a2a-4efe-b1ac-26a707e05d22</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:savedRecentRuns>1</con:savedRecentRuns><con:requirements/><con:properties><con:property><con:name>oldCredit</con:name><con:value>1083</con:value></con:property><con:property><con:name>lastWin</con:name><con:value>21</con:value></con:property><con:property><con:name>newCredit</con:name><con:value>1101</con:value></con:property><con:property><con:name>bet</con:name><con:value>3</con:value></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer/><con:jmsConnectionContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:reporting><con:xmlTemplates/><con:parameters/></con:reporting><con:authRepository/><con:tags/></con:soapui-project>